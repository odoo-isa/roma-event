<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <!-- Create Root MenÃ¹ for Purchase -->
        <record model="ir.module.category" id="module_category_purchase">
            <field name="name">Purchase</field>
            <field name="sequence">1</field>
        </record>

        <record model="ir.module.category" id="base.module_category_operations_purchase">
            <field name="parent_id" ref="purchase_representative_substitutes.module_category_purchase"/>
            <field name="sequence">1</field>
        </record>

        <!-- Update group purchase buyer -->
        <record id="purchase.group_purchase_user" model="res.groups">
            <field name="category_id" ref="base.module_category_operations_purchase"/>
        </record>

        <!-- Update group purchase user -->
        <record id="purchases_team.group_purchase_buyer" model="res.groups">
            <field name="category_id" ref="base.module_category_operations_purchase"/>
        </record>

        <!-- Update group purchase manager -->
        <record id="purchase.group_purchase_manager" model="res.groups">
            <field name="category_id" ref="base.module_category_operations_purchase"/>
        </record>

        <!-- Update Rules for group purchase buyer -->
        <record id="purchases_team.purchase_order_personal_rule" model="ir.rule">
            <field name="domain_force">
                ['|',('user_id.partner_id.replacement_purchase_user_ids','in',[user.id]),('user_id','in',[user.id,False])]
            </field>
        </record>

        <record id="purchases_team.purchase_order_line_personal_rule" model="ir.rule">
            <field name="domain_force">
                ['|',('order_id.user_id.partner_id.replacement_purchase_user_ids','in',[user.id]),('order_id.user_id','in',[user.id,False])]
            </field>
        </record>

    </data>
</odoo>
