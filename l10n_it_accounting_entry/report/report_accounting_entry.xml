<?xml version="1.0" encoding="utf-8"?>
<odoo>

        <template id="report_accounting_entry_document">
            <t t-call="web.external_layout">
                <div class="page">
                    <div class="row">
                        <div class="col-xs-6">
                            <address>
                                <h1><span t-field="doc.name"/></h1>
                                <strong>Partner: </strong> <span t-field="doc.partner_id.name"/><br/>
                                <strong>Account: </strong> <span t-field="doc.account_id.name"/>
                            </address><br/>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12">
                            <h3>Entry Lines</h3>
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th class="text-left">Name</th>
                                        <th class="text-center">Account</th>
                                        <th class="text-center">Debit</th>
                                        <th class="text-right">Credit</th>
                                        <th class="text-left">Expiration</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <t t-if="include_draft">
                                        <t t-set="entry_line_ids" t-value="doc.accounting_entry_lines.filtered(lambda l: l.parent_state in ['draft', 'posted'])"/>
                                    </t>
                                    <t t-if="not include_draft">
                                        <t t-set="entry_line_ids" t-value="doc.accounting_entry_lines.filtered(lambda l: l.parent_state == 'posted')"/>
                                    </t>
                                    <t t-foreach="entry_line_ids" t-as="entry_line_id">
                                        <tr style="page-break-inside: avoid;">
                                            <td class="text-left">
                                                <span t-field="entry_line_id.name"/>
                                            </td>
                                            <td class="text-center">
                                                <span t-field="entry_line_id.account_id"/>
                                            </td>
                                            <td class="text-left">
                                                <span t-field="entry_line_id.debit"/>
                                            </td>
                                            <td class="text-right">
                                                <span t-field="entry_line_id.credit"/>
                                            </td>
                                            <td class="text-right">
                                                <span t-field="entry_line_id.date_maturity"/>
                                            </td>
                                        </tr>
                                    </t>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </t>
        </template>


        <template id="report_accounting_entry">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="doc">
                    <t t-call="l10n_it_accounting_entry.report_accounting_entry_document"/>
                </t>
            </t>
        </template>

        <report
            string="Print Accounting Entry"
            id="action_report_accounting_entry"
            model="l10n_it.accounting.entry"
            report_type="qweb-pdf"
            name="l10n_it_accounting_entry.report_accounting_entry"
            file="l10n_it_accounting_entry.report_accounting_entry"
        />

</odoo>